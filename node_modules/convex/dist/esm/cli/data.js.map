{
  "version": 3,
  "sources": ["../../../src/cli/data.ts"],
  "sourcesContent": ["import chalk from \"chalk\";\nimport { oneoffContext } from \"../bundler/context.js\";\nimport {\n  deploymentSelectionFromOptions,\n  fetchDeploymentCredentialsProvisionProd,\n} from \"./lib/api.js\";\nimport { Command } from \"@commander-js/extra-typings\";\nimport { actionDescription } from \"./lib/command.js\";\nimport { dataInDeployment } from \"./lib/data.js\";\n\nexport const data = new Command(\"data\")\n  .summary(\"List tables and print data from your database\")\n  .description(\n    \"Inspect your Convex deployment's database.\\n\\n\" +\n      \"  List tables: `npx convex data`\\n\" +\n      \"  List documents in a table: `npx convex data tableName`\\n\\n\" +\n      \"By default, this inspects your dev deployment.\",\n  )\n  .allowExcessArguments(false)\n  .addDataOptions()\n  .addDeploymentSelectionOptions(actionDescription(\"Inspect the database in\"))\n  .showHelpAfterError()\n  .action(async (tableName, options) => {\n    const ctx = oneoffContext();\n    const deploymentSelection = deploymentSelectionFromOptions(options);\n\n    const {\n      adminKey,\n      url: deploymentUrl,\n      deploymentName,\n    } = await fetchDeploymentCredentialsProvisionProd(ctx, deploymentSelection);\n\n    const deploymentNotice = deploymentName\n      ? `${chalk.bold(deploymentName)} deployment's `\n      : \"\";\n\n    await dataInDeployment(ctx, {\n      deploymentUrl,\n      adminKey,\n      deploymentNotice,\n      tableName,\n      ...options,\n    });\n  });\n"],
  "mappings": ";AAAA,OAAO,WAAW;AAClB,SAAS,qBAAqB;AAC9B;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP,SAAS,eAAe;AACxB,SAAS,yBAAyB;AAClC,SAAS,wBAAwB;AAE1B,aAAM,OAAO,IAAI,QAAQ,MAAM,EACnC,QAAQ,+CAA+C,EACvD;AAAA,EACC;AAIF,EACC,qBAAqB,KAAK,EAC1B,eAAe,EACf,8BAA8B,kBAAkB,yBAAyB,CAAC,EAC1E,mBAAmB,EACnB,OAAO,OAAO,WAAW,YAAY;AACpC,QAAM,MAAM,cAAc;AAC1B,QAAM,sBAAsB,+BAA+B,OAAO;AAElE,QAAM;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL;AAAA,EACF,IAAI,MAAM,wCAAwC,KAAK,mBAAmB;AAE1E,QAAM,mBAAmB,iBACrB,GAAG,MAAM,KAAK,cAAc,CAAC,mBAC7B;AAEJ,QAAM,iBAAiB,KAAK;AAAA,IAC1B;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EACL,CAAC;AACH,CAAC;",
  "names": []
}
