import { Context } from "../../../bundler/context.js";
export declare function ensureBackendBinaryDownloaded(ctx: Context, version: {
    kind: "latest";
} | {
    kind: "version";
    version: string;
}): Promise<{
    binaryPath: string;
    version: string;
}>;
/**
 * Finds the latest version of the convex backend that has a binary that works
 * on this platform.
 */
export declare function findLatestVersionWithBinary(ctx: Context): Promise<string>;
export declare function runLocalBackend(ctx: Context, args: {
    ports: {
        cloud: number;
        site: number;
    };
    deploymentName: string;
    binaryPath: string;
}): Promise<{
    cleanupHandle: string;
}>;
/** Crash if correct local backend is not currently listening on the expected port. */
export declare function assertLocalBackendRunning(ctx: Context, args: {
    url: string;
    deploymentName: string;
}): Promise<void>;
/** Wait for up to maxTimeSecs for the correct local backend to be running on the expected port. */
export declare function ensureBackendRunning(ctx: Context, args: {
    cloudPort: number;
    deploymentName: string;
    maxTimeSecs: number;
}): Promise<void>;
export declare function ensureBackendStopped(ctx: Context, args: {
    ports: {
        cloud: number;
        site?: number;
    };
    maxTimeSecs: number;
    deploymentName: string;
    allowOtherDeployments: boolean;
}): Promise<undefined>;
export declare function localDeploymentUrl(cloudPort: number): string;
//# sourceMappingURL=run.d.ts.map